<!DOCTYPE html>
<html lang="pt">
    <head>
        <meta charset="utf-8">
        <title>Media Center</title>
        <link rel="stylesheet" href="css/styles.css" />
        <link rel="stylesheet" href="css/fontello.css" />
        <link rel="stylesheet" href="css/animation.css" />
        <script>
            if (window.File && window.FileReader && window.FileList && window.Blob) {
                /*
                 changeContent('load');
                 
                 var xhr2 = new Xhr();
                 xhr2.open('GET', 'about.html', true);
                 xhr2.send();
                 xhr2.onload = function() {
                 document.getElementById('help').innerHTML = this.response;
                 }
                 */
            } else {
                alert('The File APIs are not fully supported in this browser.');
            }
        </script>
    </head>
    <body> 
        <div id="loading" onclick="alert(document.readyState)">
            <div id="loading-content">
                <i class="icon icon-spin2 animate-spin"></i>
                <p id="pre-loading">Loading...</p>
            </div>
        </div>
        <header>
            <ul class="menu">
                <li class="block"><a class="links" onclick="changeContent('player')"><i class="icon icon-play"></i>Player</a></li>
                <li class="block"><a class="links" onclick="changeContent('movies')"><i class="icon icon-video"></i>Movies</a></li>
                <li class="block"><a class="links" onclick="changeContent('load')"><i class="icon icon-upload"></i>Load Movies</a></li>
            </ul>
        </header>
        <div id="container" class="container">
            <div id="player" class="content">
                <video controls class="video" id="video">
                </video>
            </div>
            <div id="movies" class="content active">
                <ul id="movies_list">
                </ul>
                <footer>
                    <a class="links" onclick="refreshMoviesList()"><i class="icon icon-refresh"></i>Refresh</a>
                </footer>
            </div>
            <div id="load" class="content">
                <div class="instructions">
                    <p>
                        Choose the files to load on your Media Center.
                    </p>
                    <p>
                        You can select them from your file explorer.
                    </p>
                    <input type="file" id="files" name="files[]" multiple accept="video/*" />
                    <p>
                        Or drop them in the box.
                    </p>
                    <div id="drop_zone" class="batatas">Drop files here</div>
                </div>
                <div class="new_movies_container">
                    <table id="loaded_list" class="movies_list" >
                        <thead class="thead">
                            <tr>
                                <th>Title</th>
                                <th>Type</th>
                                <th>Playable</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="help" id="help">
            <p class="title">Keyboard Shortcuts</p>

            <p>
                <span>?</span>: Show help (this page)<br />
                <span>l</span>: Go to the load page<br />
                <span>m</span>: Jump to the movies list<br />
                <span>p</span>: Go to the player<br />
                <span>q</span>: Close this help<br />
            </p>

            <p class="title">About the App</p>

            <p>
                HTML5 Media Center 
            </p>

            <p class="title">Author</p>

            <p>
                Walter Tavares
            </p>

            <p class="title">Things to know</p>

            <p>
                Own javascript framework (_wt)<br />
                Needs a PHP server to render the images<br />
            </p>

            <p class="title">Used API</p>

            <p>
                IndexedDB<br />
                JSON<br />
                Media<br />
                DragAndDrop<br />
                FileReader<br />
            </p>
        </div>
        <script type="text/javascript" src="js/_wt.js" ></script>
        <script type="text/javascript" src="js/script.js" ></script>
        <script type="text/javascript" src="js/db.js" ></script>
        <script>
                        document.getElementById('files').addEventListener('change', handleFileSelect, false);
                        var dropZone = document.getElementById('drop_zone');
                        dropZone.addEventListener('dragover', handleDragOver, false);
                        dropZone.addEventListener('drop', handleFileDrop, false);
        </script>
    </body>
</html>